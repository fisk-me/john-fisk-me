<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
        <meta charset="utf-8">
        <meta name="fragment" content="!" />
        <title>john.fisk.me</title>
        <meta name="generator" content="Hand coded by johnpfisk" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <!--[if lt IE 9]><script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.js"></script><![endif]-->
        <link rel="shortcut icon" href="img/favicon.ico">
        <link rel="icon" href="img/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
        <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">
        <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" type="text/css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.css" type="text/css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap-theme.css" type="text/css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css" type="text/css" rel="stylesheet">
        <!--<link href="css/lavish-bootstrap.css" type="text/css" rel="stylesheet">-->
        <link href='//fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
        <style type="text/css">
body{
  font-family: 'Raleway', sans-serif;
  background-color:#F5EFFF;
}
#navbar1{
  margin-bottom:0;
}
#navbar2.affix-top {
    z-index:10;
}
#navbar2.affix {
    position: fixed;
    top: 0;
    width: 100%;
    z-index:10;
}
#content{
  padding-top:20px;
}
.navbar-brand {
    font-weight:bold;
}
.panel-body img{
  margin:5px auto;
}
.item:before,
.item:after {
    content:"";
    position:absolute;
    z-index:-2;
}        
.item:before {
    top:50%;
    bottom:20px;
    left:20px;
    right:20px;
    -webkit-box-shadow:0 0 15px rgba(0,0,0,0.6);
    -moz-box-shadow:0 0 15px rgba(0,0,0,0.6);
    box-shadow:0 0 15px rgba(0,0,0,0.6);
    -moz-border-radius:100px / 10px;
    border-radius:100px / 10px;
}
.thumbnail iframe {display:block;margin: 5px auto;}
        </style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30191683-1', 'auto');
  ga('send', 'pageview');

</script>
    </head>
    <body>
<div id="navbar1" class="navbar navbar-static-top">
  <div class="container-fluid text-center">
    <div class="navbar-header">
      <a href="//facebook.com/johnpfisk"      target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-facebook"></i></a>
      <a href="//plus.google.com/johnpfisk"   target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-google-plus"></i></a>
      <a href="//twitter.com/johnpfisk"       target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-twitter"></i></a>
      <a href="//instagram.com/johnpfisk"     target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-instagram"></i></a>
      <a href="//youtube.com/johnpfisk"       target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-youtube-play"></i></a>
      <a href="//linkedin.com/in/johnpfisk"   target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-linkedin"></i></a>
      <a href="//flickr.com/photos/johnpfisk" target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm"><i class="fa fa-flickr"></i></a>
      <a href="//john.fisk.me/feed/rss"       target="_blank" role="button" class="btn navbar-btn btn-primary btn-sm disabled"><i class="fa fa-rss"></i></a>
    </div>
  </div>
</div>
<div id="nav-wrapper">
<nav id="navbar2" class="navbar navbar-inverse navbar-static-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">john.fisk.me</a>
    </div>
    <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Filter <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Unix'});return false;">Unix</a></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Oracle'});return false;">Oracle</a></li>
            <li class="divider"></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-WebDev'});return false;">Web Dev</a></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-GameDev'});return false;">Game Dev</a></li>
            <li class="divider"></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Photo'});return false;">Photography</a></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Design'});return false;">Design</a></li>
            <li class="divider"></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Site'});return false;">This site</a></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:'.item-Web'});return false;">On the Web</a></li>
            <li class="divider"></li>
            <li><a href="#" onclick="javascript:$('#posts').isotope({filter:''});return false;">Everything</a></li>
          </ul>
        </li>
        <li>
      <form class="navbar-form" role="search">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Work in progress&hellip;" disabled>
          <div class="input-group-btn">
            <button type="button" class="btn btn-default disabled">Search</button>
          </div><!-- /btn-group -->
        </div><!-- /input-group -->
      </form>
      </li></ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
</div>

<div id="content" class="container-fluid">
<div id="posts" class="row">
</div>
</div><!-- /.container -->


<div class="modal fade" id="item-full-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
  </div>
</div>

<script id="item-template" type="text/x-handlebars-template">
<div class="item item-{{Category}} col-xs-12 col-sm-6 col-md-4 col-lg-3">
    <article class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title row"><a href="#!{{UniqueId}}-{{encodeURI Title}}" onclick="javascript:showItem({{UniqueId}});return false;"><span class="col-xs-1"><i class="fa fa-{{Icon}}"></i></span><span class="col-xs-10">{{Title}}</span></a></h3>
        </div>
        <div class="panel-body">
            {{marked Teaser}}
            {{#if Content}}
            <p><a href="#{{UniqueId}}-{{encodeURI Title}}" onclick="javascript:showItem({{UniqueId}});return false;">More&hellip;</a></p>
            {{/if}}
        </div>
        <div class="panel-footer">
            {{commatolabel Tags default}}
        </div>
    </article>
</div>
</script>

<script id="item-full-template" type="text/x-handlebars-template">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel"><a href="#!{{UniqueId}}-{{encodeURI Title}}"><i class="fa fa-{{Icon}}"></i></a> {{Title}}</h4>
      </div>
      <div class="modal-body">
        <div>
        {{marked Teaser}}
        </div><div>
        {{marked Content}}
        </div>
      </div>
      <div class="modal-footer">
        <div class="pull-left text-left small"><small>Created by <strong>{{Author}}</strong> on <strong>{{dateTimeFormat Created}}</strong><br />Edited by <strong>{{Editor}}</strong> on <strong>{{dateTimeFormat Modified}}</strong></small></div>
        <button type="button" class="btn btn-default hidden-xs" data-dismiss="modal">Close</button>
      </div>
    </div>
</script>
        
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.0.0/isotope.pkgd.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script>
        <script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/3.0.4/jquery.imagesloaded.min.js"></script>
        <!--<script type='text/javascript' src="js/isotope-fitcolumns.js"></script>-->
        <!--<script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/fuelux/2.6.1/all.js"></script>-->
        <script type='text/javascript' src="js/miso.ds.deps.ie.0.4.1.js"></script>
        <script type='text/javascript'>

            //////////////////////////////////
            
            var ds;

            //////////////////////////////////
            
            Handlebars.registerHelper('commatolabel', function(plaintext,labelType) {
                labelType = (typeof labelType === "undefined") ? "default" : labelType;
                plaintext = (typeof plaintext === "undefined") ? "" : plaintext || '';
                var i, output = '',
                lines = plaintext.split(",");
                for (i = 0; i < lines.length; i++) {
                    if(lines[i]) {
                        output += '<span class="label label-'+labelType+'"><i class="fa fa-tag"></i> ' + lines[i] + '</span> ';
                    }
                }
                return new Handlebars.SafeString(output);
            });

            Handlebars.registerHelper('marked', function(plaintext) {
              plaintext = (typeof plaintext === "undefined") ? "" : plaintext || '';
              return new Handlebars.SafeString(marked(plaintext));
            });

            Handlebars.registerHelper('dateTimeFormat', function(context, block) {
              return context.format(block.hash.format || "MMM Do, YYYY hh:mm");
            });

            Handlebars.registerHelper('encodeURI', function(plaintext) {
                return new Handlebars.SafeString(encodeURI(plaintext));
            });

            function showItems(entries) {
                var template = Handlebars.compile($("#item-template").html());
                entries.each ( function ( entry ) {
                    $("#posts").append(template(entry));
                });
            }
            
            function showItem(id) {
                var template = Handlebars.compile($("#item-full-template").html());
                $("#item-full-modal .modal-dialog ").html(template(ds.rowById(id)));
                $("#item-full-modal").modal('show');
                history.pushState( {},"john.fisk.me | " + ds.rowById(id).Title, "#!"+id+"-"+encodeURI(ds.rowById(id).Title) );
            }
            //////////////////////////////////

            function sign(x) {
                return typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;
            }
            
            $(document).ready(function() {
            
                $('#navbar2').affix({offset:{top:$('#navbar2').offset().top}});
                
                $('#nav-wrapper').height($("#navbar1").height());
                
                $('#item-full-modal').on('show.bs.modal', function () {
                  $('.modal .modal-body').css('overflow-y', 'auto'); 
                  $('.modal .modal-body').css('max-height', $(window).height() * 0.7);
                });
                
                marked.setOptions({
                  highlight  : function (code) { return hljs.highlightAuto(code).value;},
                  renderer   : new marked.Renderer(),
                  gfm        : true,
                  tables     : true,
                  breaks     : false,
                  pedantic   : false,
                  sanitize   : false,
                  smartLists : true,
                  smartypants: true
                });        

                ds = new Miso.Dataset({
                    importer    : Miso.Dataset.Importers.GoogleSpreadsheet,
                    parser      : Miso.Dataset.Parsers.GoogleSpreadsheet,
                    key         : "1-duH2HS3Y_mjbXRib3mxzjwaxfPmZ7QQvVcqwH_jeZQ",
                    worksheet   : "1",
                    idAttribute : "UniqueId",
                    columns   : [
                                  { 
                                    name : "Created", 
                                    type : "time",
                                    format: "YYYY-MM-DD HH:mm:ss"
                                  },
                                  { 
                                    name : "Modified", 
                                    type : "time",
                                    format: "YYYY-MM-DD HH:mm:ss"
                                  }
                                ],
                    comparator : function(row1, row2) {
                        return sign(row2.Modified.diff(row1.Modified));
                    }
                });
              
                ds.fetch({ 
                    success : function() {
                        showItems(ds);
                        var $container = $('#posts').isotope({
                          itemSelector: '.item',
                          columnWidth : '.item',
                        })
                        
                        $container.imagesLoaded( function() {
                          $container.isotope('layout');
                          if (document.location.hash.replace("#!", "").split("-")[0] === "" ) {}else{
                            showItem(document.location.hash.replace("#!", "").split("-")[0] );
                          };
                        });                        
                        
                    },
                    error : function() {
                        console.log("Error fetching data set.");
                    }
                });

            });
        </script>
    </body>
</html>